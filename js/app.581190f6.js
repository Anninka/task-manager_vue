(function(){"use strict";var t={1613:function(t,s,e){var a=e(9242),o=e(3396);const r={class:"page"},n={class:"page-header"},i={class:"container"},u=(0,o._)("h1",{class:"page-title"},"Компания DNS. Тестовое задание. Task manager.",-1),p={class:"page-main"},l={class:"task-desk container"},c=(0,o._)("footer",{class:"page-footer"},[(0,o._)("div",{class:"container"},[(0,o._)("p",{class:"page-footer__text"},"Терентьева А.В."),(0,o._)("p",{class:"page-footer__text"},"Владивосток 2023")])],-1);function k(t,s,e,a,k,d){const h=(0,o.up)("task-list"),_=(0,o.up)("task-popup");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("header",n,[(0,o._)("div",i,[u,(0,o._)("button",{class:"button",onClick:s[0]||(s[0]=(...t)=>d.showPopup&&d.showPopup(...t))},"Добавить задачу")])]),(0,o._)("main",p,[(0,o._)("div",l,[(0,o.Wm)(h,{tasks:k.tasks,groupedTasks:d.groupedTasks},null,8,["tasks","groupedTasks"])]),(0,o.Wm)(_,{show:k.taskVisible,"onUpdate:show":s[1]||(s[1]=t=>k.taskVisible=t),onCreate:d.createTask},null,8,["show","onCreate"])]),c])}e(7658);var d=e(7139);const h={class:"task-list__header"};function _(t,s,e,a,r,n){const i=(0,o.up)("task-item");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.groupedTasks,((t,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"task-list",key:s},[(0,o._)("div",h,(0,d.zw)(s),1),(0,o.Wm)(i,{taskGroups:t},null,8,["taskGroups"])])))),128)}const w={class:"task-item__text"},f={class:"task-item__text"},m={class:"task-item__text"},g={class:"task-item__text"},v={key:0,class:"task-item__text"},T={key:1,class:"task-item__text"},y={class:"task-item__text"};function b(t,s,e,a,r,n){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.taskGroups,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"task-item",key:t.id},[(0,o._)("p",w,[(0,o.Uk)("Название: "),(0,o._)("span",null,(0,d.zw)(t.title),1)]),(0,o._)("p",f,[(0,o.Uk)("Описание: "),(0,o._)("span",null,(0,d.zw)(t.description),1)]),(0,o._)("p",m,[(0,o.Uk)("Автор: "),(0,o._)("span",null,(0,d.zw)(t.author),1)]),(0,o._)("p",g,[(0,o.Uk)("Дата создания: "),(0,o._)("span",null,(0,d.zw)(new Date(t.date).toLocaleString()),1)]),"Создана"!==t.status?((0,o.wg)(),(0,o.iD)("p",v,[(0,o.Uk)("Взяли в работу: "),(0,o._)("span",null,(0,d.zw)(new Date(t.atwork).toLocaleString()),1)])):(0,o.kq)("",!0),"Создана"!==t.status?((0,o.wg)(),(0,o.iD)("p",T,[(0,o.Uk)("Затрачено времени: "),(0,o._)("span",null,(0,d.zw)(n.getWorkTime(t)),1)])):(0,o.kq)("",!0),(0,o._)("p",y,[(0,o.Uk)("Состояние: "),(0,o._)("span",null,(0,d.zw)(t.status),1)])])))),128)}var x={props:{taskGroups:{type:Array,require:!0}},methods:{getWorkTime(t){return"В работе"===t.status?`${Math.floor((new Date-new Date(t.atwork))/36e5)} ч.`:"Завершена"===t.status?`${Math.floor((new Date(t.done)-new Date(t.atwork))/36e5)} ч.`:void 0}}},D=e(89);const O=(0,D.Z)(x,[["render",b],["__scopeId","data-v-cd9c24ea"]]);var P=O,C={components:{TaskItem:P},props:{tasks:{type:Array,require:!0},groupedTasks:{type:Object,required:!0}}};const U=(0,D.Z)(C,[["render",_],["__scopeId","data-v-b8a1f830"]]);var E=U;const z=t=>((0,o.dD)("data-v-3586c598"),t=t(),(0,o.Cn)(),t),I=z((()=>(0,o._)("h2",{class:"task-popup__title"},"Новая задача",-1))),S={key:0,class:"task-popup__text"},V=z((()=>(0,o._)("p",{class:"task-popup__note"},"* Все поля обязательные для заполнения",-1)));function j(t,s,e,r,n,i){return e.show?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"task-popup",onClick:s[6]||(s[6]=(...t)=>i.closePopup&&i.closePopup(...t))},[(0,o._)("div",{class:"task-popup__content",onClick:s[5]||(s[5]=(0,a.iM)((()=>{}),["stop"]))},[(0,o._)("form",{class:"task-popup__form",onSubmit:s[4]||(s[4]=(0,a.iM)((()=>{}),["prevent"]))},[I,n.formError?((0,o.wg)(),(0,o.iD)("p",S,(0,d.zw)(n.formError),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{class:"task-popup__input",type:"text",placeholder:"* Название",minlength:"5",maxlength:"100","onUpdate:modelValue":s[0]||(s[0]=t=>n.task.title=t)},null,512),[[a.nr,n.task.title]]),(0,o.wy)((0,o._)("textarea",{class:"task-popup__area",placeholder:"* Описание",rows:"8",minlength:"20",maxlength:"600","onUpdate:modelValue":s[1]||(s[1]=t=>n.task.description=t)},null,512),[[a.nr,n.task.description]]),(0,o.wy)((0,o._)("input",{class:"task-popup__input",type:"text",placeholder:"* Автор",minlength:"2",maxlength:"50","onUpdate:modelValue":s[2]||(s[2]=t=>n.task.author=t)},null,512),[[a.nr,n.task.author]]),V,(0,o._)("button",{class:"task-popup__button",onClick:s[3]||(s[3]=(...t)=>i.createTask&&i.createTask(...t))},"Создать")],32)])])):(0,o.kq)("",!0)}var q={props:{show:{type:Boolean,default:!1}},data(){return{task:{title:"",description:"",author:""},formError:""}},mounted(){window.addEventListener("keydown",this.escClosePopup)},destroy(){window.removeEventListener("keydown",this.escClosePopup)},methods:{createTask(){""===this.task.title||""===this.task.description||""===this.task.author?this.formError="Заполните все поля!":this.task.title.length<5||this.task.description.length<20||this.task.author.length<2?this.formError="Минимум 5 символов для названия, 20 для описания и 2 для автора":(this.formError="",this.task.id=Date.now(),this.task.date=new Date,this.task.status="Создана",this.$emit("create",this.task),this.task={title:"",description:"",author:""})},closePopup(){this.$emit("update:show",!1)},escClosePopup(t){this.show&&"Escape"===t.key&&this.closePopup()}}};const L=(0,D.Z)(q,[["render",j],["__scopeId","data-v-3586c598"]]);var M=L,W={components:{TaskList:E,TaskPopup:M},data(){return{tasks:[{id:1,title:"Создание новой карточки",description:"Необходимо провести следующие операции",author:"Сидорова",date:"2023-03-09T10:05:00",atwork:"2023-03-09T10:10:00",done:"2023-03-15T11:55:00",status:"Завершена"},{id:2,title:"Перетаскивание задач",description:"Добавить возможность перетаскивать задачи между колонками создана/в работе/завершена",author:"Петров",date:"2023-03-12T12:55:00",atwork:"",done:"",status:"Создана"},{id:3,title:"Добавление задач в таск-менеджер",description:"Реализовать добавление новых задач в таск-менеджере по шаблону. Все поля обязательные.",author:"Иванов",date:"2023-03-10T09:00:00",atwork:"2023-03-10T10:12:00",done:"",status:"В работе"},{id:4,title:"Удаление выполненных задач",description:'Добавить функционал удаления задач из колонки "Завершена"',author:"Терентьева",date:"2023-03-13T10:10:00",atwork:"2023-03-13T11:10:00",done:"",status:"В работе"},{id:5,title:"Разделить проект на компоненты",description:"Разделить проект на несколько компонентов по смыслу",author:"Рукавишников",date:"2023-03-13T11:48:00",atwork:"2023-03-13T12:05:00",done:"2023-03-13T18:05:00",status:"Завершена"},{id:6,title:"Возможность менять оформление",description:"Реализовать возможность менять цветовую гамму, как минимум 3 варианта",author:"Морозова",date:"2023-03-13T12:07:00",atwork:"2023-03-13T12:10:00",done:"",status:"В работе"},{id:7,title:"Придумать содержимое задач",description:"Придумать названия и описания задач для тестирования таск-менеджера. А то у меня уже фантазия заканчивается.",author:"Терентьева",date:"2023-03-16T12:12:00",atwork:"2023-03-16T12:52:00",done:"",status:"В работе"}],statusId:{"Создана":0,"В работе":1,"Завершена":2},taskVisible:!1}},computed:{groupedTasks(){const t=[...this.tasks].sort(((t,s)=>this.statusId[t.status]-this.statusId[s.status]));return t.reduce(((t,s)=>{const e=s.status;return t[e]||(t[e]=[]),t[e].push(s),t}),{})}},methods:{createTask(t){this.tasks.push(t),this.taskVisible=!1,localStorage.setItem("tasks",JSON.stringify(this.tasks))},showPopup(){this.taskVisible=!0}},mounted(){const t=localStorage.getItem("tasks");t&&(this.tasks=JSON.parse(t))}};const G=(0,D.Z)(W,[["render",k]]);var Z=G;(0,a.ri)(Z).mount("#app")}},s={};function e(a){var o=s[a];if(void 0!==o)return o.exports;var r=s[a]={exports:{}};return t[a](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(s,a,o,r){if(!a){var n=1/0;for(l=0;l<t.length;l++){a=t[l][0],o=t[l][1],r=t[l][2];for(var i=!0,u=0;u<a.length;u++)(!1&r||n>=r)&&Object.keys(e.O).every((function(t){return e.O[t](a[u])}))?a.splice(u--,1):(i=!1,r<n&&(n=r));if(i){t.splice(l--,1);var p=o();void 0!==p&&(s=p)}}return s}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[a,o,r]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var o,r,n=a[0],i=a[1],u=a[2],p=0;if(n.some((function(s){return 0!==t[s]}))){for(o in i)e.o(i,o)&&(e.m[o]=i[o]);if(u)var l=u(e)}for(s&&s(a);p<n.length;p++)r=n[p],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(l)},a=self["webpackChunktask_manager_vue"]=self["webpackChunktask_manager_vue"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(1613)}));a=e.O(a)})();
//# sourceMappingURL=app.581190f6.js.map